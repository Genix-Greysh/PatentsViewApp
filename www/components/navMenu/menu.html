<ion-view>

    <ion-header-bar class="nav-headbar" no-tap-scroll="true" menu-close>
            <h1 class="title">Navigation</h1>
    </ion-header-bar>

    <ion-content class="nav-menu-pane" has-bouncing="false">
    
        <ion-list>
        
            <div ng-controller="BriefcaseController">
                <a class="item nav-item item-icon-left item-icon-right" ng-init="show=false" ng-click="show = !show" style="border-top:0;">
                   <i class="icon nav-icon ion-briefcase"></i> Notebooks
                   <i class="icon" ng-class="{'ion-chevron-up': show, 'ion-chevron-down':!show }" ></i>
                </a>
                <div ng-show="show" class="animate-dropdown" style="margin-left:0.75em;margin-bottom:5px;">
                    <ion-item class="item item-icon-right"
                            nav-clear
                            menu-toggle
                            ng-repeat="notebook in briefcase | orderObjectBy:'modified':true | limitTo: 5"
                            ui-sref="notebook.id({ 'id': notebook.id })"
                            ui-sref-active="nav-active"
                    >
                        {{notebook.name}}
                        <i class="icon ion-chevron-right"></i>
                    </ion-item>
     
                    <a class="item item-icon-right nav-more-item" nav-clear menu-toggle ui-sref="notebook.list"  ui-sref-active="nav-active">&#8230; more
                        <i class="icon ion-chevron-right"></i>
                    </a>
                </div>
            </div>

            <div>
                <a class="item nav-item item-icon-left item-icon-right" nav-clear menu-toggle ui-sref="library" ui-sref-active="nav-active">
                    <i class="icon nav-icon ion-folder"></i> Library
                    <i class="icon ion-chevron-right"></i>
                </a>
            </div>
            
            <div ng-controller="HistoryController">
                <a class="item nav-item item-icon-left item-icon-right" nav-clear ng-click="lastSearch()" ui-sref="results" ui-sref-active="nav-active" ng-show="data['results']">
                    <i class="icon nav-icon ion-search"></i> Search Results
                    <i class="icon ion-chevron-right"></i>
                </a>

                <a menu-toggle class="item nav-item item-icon-left item-icon-right" nav-clear ng-click="lastDocument()" ng-show="data['document.id']">
                    <i class="icon nav-icon ion-document-text"></i> Last Document
                    <i class="icon ion-chevron-right"></i>
                </a>
                
                <a class="item nav-item item-icon-left item-icon-right" ng-init="show=false" ng-click="show = !show">
                    <i class="icon nav-icon ion-clock"></i> Session History
                   <i class="icon ion-menu-icon" ng-class="{'ion-chevron-up': show, 'ion-chevron-down':!show }" ></i>
                </a>
                <div ng-show="show" class="animate-dropdown" style="margin-left:0.75em;margin-bottom:3px;">
                        <div ng-show="data.results">
                            <div class="item item-divider">Search</div>
                            <ion-item class="item item-icon-right"
                                nav-clear
                                menu-toggle
                                ng-repeat="(id, params) in data.results | limitTo: 5"
                                ui-sref="results(params)"
                                class="item-text-wrap"
                            >
                                {{id}}
                                <i class="icon ion-chevron-right"></i>
                            </ion-item>
                       </div>
                       
                       <div ng-show="data['document.id']">
                            <div class="item item-divider">Document</div>
                            <ion-item class="item item-icon-right"
                                nav-clear
                                menu-toggle
                                ng-repeat="(id, params) in data['document.id'] | limitTo: 5"
                                ui-sref="document.id(params)"
                                class="item-text-wrap"
                            >
                               {{id}}
                               <i class="icon ion-chevron-right"></i>
                            </ion-item>
                       </div>
                </div>
            </div>
            
            <a nav-clear menu-toggle class="item nav-item item-icon-left item-icon-right"
                ui-sref="settings"
                ui-sref-active="nav-active">
                <i class="icon nav-icon ion-gear-b"></i> Settings
                <i class="icon ion-chevron-right"></i>
            </a>

            <a nav-clear menu-toggle class="item nav-item item-icon-left item-icon-right"
               ui-sref="home"
               ui-sref-active="nav-active">
                    <i class="icon nav-icon ion-information-circled"></i> About
                    <i class="icon ion-chevron-right"></i>
            </a>
        
        </ion-list>
          
    </ion-content>
</ion-view>
